
### VPC란?
- Amazon Virtual Private Cloud
- AWS의 가상 사설 네트워크
- AWS를 잘 사용하기 위해서 익혀야 하는 필수 지식
- EC2의 네트워크 계층
- 많은 AWS 서비스들이 VPC를 통해 네트워크에 연결
- https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/what-is-amazonvpc.html
  - 공식문서

### VPC 핵심개념
- VPC: 사용자의 AWS 계정 전용 가상 네트워크 망, `리전 서비스`
- 서브넷: VPC를 더 작은 범위의 네트워크 나눈 것, `AZ 서비스`
- EC2 인스턴스는 반드시 서브넷에 연결된다.
  - EC2는 AZ서비스이기 때문에, 같은 AZ서비스인 서브넷에 연결된다.
- 라우팅 테이블: 네트워크 트래픽 전달 규칙 지정
  - 서브넷에 라우팅 테이블이 연결되어 있다.
- CIDR 블록: CIDR 표기법을 통해 IP 주소 범위를 지정

### 인터넷 게이트웨이(IGW)
- 인터넷 게이트웨이를 VPC에 연결해야 인터넷을 사용 할 수 있다.
  - `public 서브넷의 라우팅 테이블에 인터넷 게이트웨이를 바라보는 룰도 추가 해야 함`

### Private Subnet에서 인터넷 연결
- `NAT 게이트웨이` 또는 `NAT 인스턴스`를 이용 한다.
  - NAT 게이트웨이는 월 약 5만원의 비용이 청구 된다.

### NACL과 보안그룹
| | NACL	 | 보안그룹 |
| --- | --- | --- |
| 용도 | 서브넷 트래픽 제어 | EC2 트래픽 제어 |
| 상태 | Stateless | Stateful |
| 관리자 | admin 또는 네트워크 관리자 | 개발자 |
| 주용도 | 인바운드 및 아웃바운드 기본 규칙 정의 | 주로 인바운드 트래픽 제어 |
| 초기상태 | Open | 아웃바운드만 Open |
| 규칙 평가 | 순서대로 평가 | 모아서 한꺼번에 평가 |
| Rule Limit | 20 | 60 |

