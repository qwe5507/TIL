## 싱글톤 패턴 1부 - 싱글톤 패턴을 가장 단순히 구현하는 방법

![image](https://user-images.githubusercontent.com/70142711/218312119-c5d0dc9a-14a1-446b-9aa9-333cd3897eff.png)

싱글톤 패턴 조건 

- 인스턴스가 오직 하나 여야 한다.
- global하게 접근할 수 있어야 한다.

### 1. private 생성자에 static 메소드

```java
public class Settings {

	private static Settings instance;

	private Settings() { }

	public static Settings getInstance() {
	if (instance == null) {
		   instance = new Settings();
	}

	return instance;
  }
}
```

- 가장 단순한 싱글톤 구현 방법이지만, 멀티스레드 환경에서 동시성 이슈 발생 할 수있다.

다음을 직접 설명해 보세요.

1. 생성자를 private으로 만든 이유?
    - 외부에서 new로 무분별한 생성을 막기 위해
2. getInstance() 메소드를 static으로 선언한 이유?
    - 외부에서 객체 생성 없이 사용하기 위해
3. getInstance()가 멀티쓰레드 환경에서
안전하지 않은 이유?
    - if문에서 동기화이슈 발생 할 수 있음

## 싱글톤 패턴 2부 - 멀티 쓰레드 환경에서 안전하게 구현하는 방법

### 1. 동기화(synchronized)를 사용해 멀티쓰레드 환경에 안전하게 만드는 방법

```java
public static synchronized Settings getInstance() {
	if (instance == null) {
			instance = new Settings();
	}

	return instance;
}
```

단점

- lock을 사용하는 동기화 기법 이기 때문에 성능 이슈가 발생할 수 있다.

1. 자바의 동기화 블럭 처리 방법은?

2. getInstance() 메소드 동기화시 사용하는 락(lock)은 인스턴스의 락인가 클래스의 락인가?
그 이유는?
