
### 브랜치(Branch)란?
- 개발을 하다보면 코드를 여러 개로 복사할 일이 생긴다. 코드를 통째로 복사하고 원래 코드와 별개로 독립적으로 개발하는 것
- 기존에 저장한 파일을 master 브랜치에 유지하면서 독립적으로 기존 파일 내용을 수정하거나 새로운 파일을 추가하고 스테이징, 커밋할 수 있다.

> HEAD : HEAD는 현재 브랜치를 가리키는 포인터고, 브랜치는 브랜치에 담긴 커밋 중 가장 마지막 커밋을 가리킨다.

### 브랜치 관련 명령어 
- `git branch` : 현재 저장소의 브랜치 확인
- `git branch {브랜치명}` : 브랜치 생성
- `git checkout {브랜치명}` : 해당 브랜치로 이동
- `git checkout -b {브랜치명}` : 브랜치 생성 + 브랜치 이동
- `git merge {브랜치명}` : 현재 브랜치에서 {브랜치명}의 브랜치를 가져와 병합

### Fast-forward merge 이해
![img.png](image/git11.png)
```
-시나리오-
로그인 파일을 커밋하였으며,
위와같이 Main브런치 포인터가 로그인을 가리키고 있다. 
```
![img.png](image/git12.png)
- topic 브랜치 생성
  - topic 브랜치 포인터도 `로그인`을 가리킨다.

![img.png](image/git13.png)
- topic 브랜치에서 `아이디 중복체크 완료`를 커밋
- topic 브랜치 포인터가 위와 같이 `아이디 중복체크 완료`로 이동 한다.

![img.png](image/git14.png)
- main 브랜치로 체크아웃 후 `git merge topic` 명령어를 사용하여 병합한다.
  - 위와 같이 main 브랜치 포인터가 `아이디 중복체크 완료`로 이동 한다.
  
### Fast-forward merge 정리
- main 브랜치에서 추가작업을 하지않아 병합할 지점이 2개 밖에 없을때 수행되는 병합이다.
- 병합이라기 보다는 포인터를 옮기기만 하면된다.
  - 그래서 이름이 Fast-forword인것 같다.
---

### 3-way merge 이해
![img.png](image/git15.png)
```
-시나리오-
topic브랜치를 만들어 main브랜치와는 다른 새로운 커밋을 추가하였다. 
```
![img.png](image/git16.png)
- main 브랜치에서 `글쓰기`를 추가하였다.
  - main 브랜치 포인터가 `글쓰기`로 이동
- Fast-forward merge처럼 main 브랜치의 포인터만 이동하여 해결할 수없다.
  - main 브랜치의 포인터를 `아이디 중복 완료`로 이동하면, main 브랜치의 `글쓰기`가 없어지기 때문에.

![img.png](image/git17.png)
- topic 브랜치를 main 브랜치에 병합 한다.
  - main 브랜치에서 `git merge topic`명령어 이용
- 위와 같이 병합할 지점이 3개일때 3-way merge를 이용한다.
  - `로그인` : 두 브랜치의 공통부분
  - `글쓰기` : main 브랜치의 최신 커밋
  - `아이디 중복 완료` : topic 브랜치의 최신 커밋



---
참고
- [https://m.blog.naver.com/PostView.naver?blogId=dktmrorl&logNo=222344170901&proxyReferer=](https://m.blog.naver.com/PostView.naver?blogId=dktmrorl&logNo=222344170901&proxyReferer=)
- [https://velog.io/@soyi47/GitGithub-%EB%B8%8C%EB%9E%9C%EC%B9%98-branch-%EA%B8%B0%EC%B4%88](https://velog.io/@soyi47/GitGithub-%EB%B8%8C%EB%9E%9C%EC%B9%98-branch-%EA%B8%B0%EC%B4%88)